---
title: "happy2016"
author: "Noah Lee"
date: "2023-06-25"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(dplyr)
library(tidyverse)
library(sqldf)
library(corrr)
library(caret)
```

## Load the data
```{r}
whr2016 <- read.csv("2016.csv")
```


## THE YEAR 2016 ##
Clean the data:
- Rename columns
```{r}
colnames(whr2016)[3] = "Happiness_Rank"
colnames(whr2016)[4] = "Happiness_Score"
colnames(whr2016)[5] = "Lower_CI"
colnames(whr2016)[6] = "Upper_CI"
colnames(whr2016)[7] = "GDP"
colnames(whr2016)[9] = "Life_Exp"
colnames(whr2016)[11] = "Trust"
colnames(whr2016)[13] = "Dystopia_Res"
#Remove Happiness_Rank as it is not needed
whr2016 <- whr2016[,-3]

glimpse(whr2016)
```


```{r}
#Top and bottom 10 countries and their happiness scores
head(whr2016, n=10)
tail(whr2016, n=10)
#Where the United States stands
whr2016[whr2016$Country == 'United States',]
```

Above are the countries with the top 10 highest and lowest happiness scores. The top 10 is mostly made up of Western European countries, while 8 of the lowest 10 rankings nations are from Sub-Saharan Africa.
The United States went up from 15 to 13th place compared to the previous year.


What was the average happiness score per region?
```{r}
region_average2016 <- sqldf("SELECT Region, AVG(Happiness_Score) FROM whr2016
                            GROUP BY Region
                            ORDER BY AVG(Happiness_Score) desc")
region_average2016
```























